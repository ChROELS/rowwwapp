<!DOCTYPE html>
<!--Important to create a xml nameSpace for thymeleaf. If I dont, each time I use th: I receive the message namespace is not bound-->
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="fr">
<head>
    <link href="../static/css/rowwwapp_forms_layout.css" th:href="@{/css/rowwwapp_forms_layout.css}" rel="stylesheet" media="screen">
        <title>competition/save and continue</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="../static/js/rowwwapp_competition_mods_export.js" th:src="@{/js/rowwwapp_competition_mods_export.js}"></script>
    </head>
    <body>
    <!--Navigation bar-->
    <ul>
        <li><a th:href="@{/rowwwapp/bienvenue}">Accueil</a></li>
        <li><header>Organiser: récapitulatif</header></li>
        <li style="float:right"><a th:href="@{/rowwwapp/logout}">Log Out</a></li>
        <li style="float:right" sec:authorize="isAuthenticated()">Logged In</li>
    </ul>
    <!--One row-->
    <div class="row">
        <!--Three columns-->
        <div class="column side">
        </div>

        <div class="column middle">
    <article>
        <!-- part 1 -->
        <h1>Jour de compétition</h1>
        <div>
            <table >
                <tr>
                    <th>Id</th>
                    <th>Lieu</th>
                    <th>Date</th>
                    <th>Nom</th>
                    <th>Description</th>
                    <th>Date limite d'inscription</th>
                    <th>Montant</th>
                    <th>Règles d'inscription</th>
                    <th>Contacts</th>
                    <th>Date du tirage au sort</th>
                    <th>Règles</th>
                    <th>Contacts</th>
                    <th>Date limite pour forfait</th>
                    <th>Heure limite pour forfait</th>
                    <th>Règles</th>
                    <th>Contacts</th>
                    <th>Règles complémentaires</th>
                </tr>
                <tr th:each="comp : ${competitions}">
                    <td th:if="${comp.equals(null)}">Aucune compétition n'est encore enregistrée</td>
                    <td th:text="${comp.getId()}">
                    <td th:text="${comp.getPlaceOfEvent()}"></td>
                    <td th:text="${comp.getDate()}"></td>
                    <td th:text="${comp.getName() }"></td>
                    <td th:text="${comp.getDescription() }"></td>
                    <td th:text="${comp.getRegistrationLimit()}"></td>
                    <td th:text="${comp.getRegistrationCost() }"></td>
                    <td th:text="${comp.getRegistrationRules() }"></td>
                    <td th:text="${comp.getRegistrationContact() }"></td>
                    <td th:text="${comp.getLotteryDate()}"></td>
                    <td th:text="${comp.getLotteryRules() }"></td>
                    <td th:text="${comp.getLotteryContact() }"></td>
                    <td th:text="${comp.getForfeitLimit()}"></td>
                    <td th:text="${comp.getForfeitLimitHour().toUpperCase() }"></td>
                    <td th:text="${comp.getForfeitRules() }"></td>
                    <td th:text="${comp.getForfeitContact() }"></td>
                    <td th:text="${comp.getComplementaryRules() }"></td>
                </tr>
            </table>
        </div>
        <h1>Course du jour de compétition</h1>
        <div>
            <table >
                <tr>
                    <th>Id</th>
                    <th>Numéro</th>
                    <th>Nom</th>
                    <th>Description</th>
                    <th>Distance</th>
                    <th>Temps max.</th>
                    <th>Heure de départ</th>
                    <th>Type de course</th>
                    <th>Course sur-mesure</th>
                    <th>Envergure</th>
                    <th>Catégorie</th>
                    <th>Type de bateau</th>
                    <th>Expérience admise</th>
                    <th>Compétition</th>
                </tr>
                <tr th:each="race : ${races}">
                    <td th:if="${race.equals(null)}">Aucune course n'est encore enregistrée</td>
                    <td th:text="${race.getId()}">
                    <td th:text="${race.getNumber()}"></td>
                    <td th:text="${race.getName()}"></td>
                    <td th:text="${race.getDescription() }"></td>
                    <td th:text="${race.getDistance() }"></td>
                    <td th:text="${race.getMaxTime() }"></td>
                    <td th:text="${race.getStartingTime() }"></td>
                    <td th:text="${race.getRacetype() }"></td>
                    <td th:text="${race.getCustomedRace() }"></td>
                    <td th:text="${race.getRaceImpact() }"></td>
                    <td th:text="${race.getAdmissCategory() }"></td>
                    <td th:text="${race.getAdmissRowingBoat() }"></td>
                    <td th:text="${race.getRaceExperience() }"></td>
                </tr>
            </table>
        </div><br/>
        <h1>Compensations prévues</h1>
        <div>
            <table >
                <tr>
                    <th>Id</th>
                    <th>Compétition</th>
                    <th>Homme</th>
                    <th>Femme</th>
                    <th>PR1</th>
                    <th>PR2</th>
                    <th>PR3</th>
                    <th>Débutant</th>
                    <th>J10</th>
                    <th>J12</th>
                    <th>J14</th>
                    <th>J16</th>
                    <th>J18</th>
                    <th>S_A</th>
                    <th>S_B</th>
                    <th>U23</th>
                    <th>A</th>
                    <th>B</th>
                    <th>C</th>
                    <th>D</th>
                    <th>E</th>
                    <th>F</th>
                    <th>G</th>
                    <th>H</th>
                    <th>I</th>
                    <th>J</th>
                    <th>K</th>
                    <th>L</th>
                    <th>M</th>
                </tr>
                <!--/*@thymesVar id="comp" type="be.intecbrussel.models.competition.Compensation"*/-->
                <tr th:each="comp: ${compensations}">
                    <td th:if="${comp.equals(null)}">Aucune compensation n'est encore enregistrée</td>
                    <td th:text="${comp.getId()}">
                    <td th:text="${comp.getCompensationFemale()}"></td>
                    <td th:text="${comp.getCompensationMale()}"></td>
                    <td th:text="${comp.getPR1()}"></td>
                    <td th:text="${comp.getPR2()}"></td>
                    <td th:text="${comp.getPR3()}"></td>
                    <td th:text="${comp.getBEG()}"></td>
                    <td th:text="${comp.getJ10()}"></td>
                    <td th:text="${comp.getJ12()}"></td>
                    <td th:text="${comp.getJ14()}"></td>
                    <td th:text="${comp.getJ16()}"></td>
                    <td th:text="${comp.getJ18()}"></td>
                    <td th:text="${comp.getS_A()}"></td>
                    <td th:text="${comp.getS_B()}"></td>
                    <td th:text="${comp.getU23()}"></td>
                    <td th:text="${comp.getA()}"></td>
                    <td th:text="${comp.getB()}"></td>
                    <td th:text="${comp.getC()}"></td>
                    <td th:text="${comp.getD()}"></td>
                    <td th:text="${comp.getE()}"></td>
                    <td th:text="${comp.getF()}"></td>
                    <td th:text="${comp.getG()}"></td>
                    <td th:text="${comp.getH()}"></td>
                    <td th:text="${comp.getI()}"></td>
                    <td th:text="${comp.getJ()}"></td>
                    <td th:text="${comp.getK()}"></td>
                    <td th:text="${comp.getL()}"></td>
                    <td th:text="${comp.getM()}"></td>
                </tr>
            </table>
        </div><br/>
        <!-- part 2 -->
        <section>
        <button id="toCompetition" onclick="loadPageCompetition()">Organiser une autre compétition</button><br/>
        </section>
        <section>
        <p>Télécharger ces données (.csv)</p>
        <a th:href="@{/rowwwapp/competition/results/rowwwapp_competition_data.csv}">Jour(s) de compétition</a><br/>
        <br/>
        <a th:href="@{/rowwwapp/competition/results/rowwwapp_race_data.csv}">Course(s) organisée(s)</a><br/>
        <br/>
        <a th:href="@{/rowwwapp/competition/results/rowwwapp_compensation_data.csv}">Détails: coefficients d'handicap</a><br/>
        <br/>
        </section>
        <section>
            <p>Télécharger ces données (.xlsx)</p>
            <a th:href="@{/rowwwapp/competition/results/rowwwapp_competition_data.xlsx}">Jour(s) de compétition</a><br/>
            <br/>
            <a th:href="@{/rowwwapp/competition/results/rowwwapp_race_data.xlsx}">Course(s) organisée(s)</a><br/>
            <br/>
            <a th:href="@{/rowwwapp/competition/results/rowwwapp_compensation_data.xlsx}">Détails: coefficients d'handicap</a><br/>
            <br/>
        </section>
    </article>
        </div>
        <div class="column side">
        </div>
        <!--End of One row-->
    </div>
    <div class="row">
        <footer>Christine Roels, Intec Brussel Java EE Developer, persoonlijk project 2020</footer>
    </div>
    </body> 
</html>    