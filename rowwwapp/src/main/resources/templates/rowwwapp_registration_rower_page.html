<!DOCTYPE html>
<!--Important to create a xml nameSpace for thymeleaf. If I dont, each time I use th: I receive the message namespace is not bound-->
<html xmlns:th="http://www.thymeleaf.org" lang="fr">
<head>
    <link href="../static/css/rowwwapp_forms_layout.css" th:href="@{/css/rowwwapp_forms_layout.css}" rel="stylesheet" media="screen">
        <title>registration</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="../static/js/repeater.js" th:src="@{/js/repeater.js}"></script>
    <!-- repeater plugin provided by vijaybajrot  -->
    <script src="../static/js/rowwwapp_registration_rower_page.js" th:src="@{/js/rowwwapp_registration_rower_page.js}"></script>
    </head>
    <body>
    <header>Participer: étape 2</header>
    <article>
        <!-- part 1 -->
        <h1>Vos données</h1><br/>
        <h2>Course sélectionnée</h2>
        <div>
        <table>
            <tr>
                <th>Id</th>
                <th>Lieu</th>
                <th>Date</th>
                <th>Numéro officiel</th>
                <th>Type de course</th>
                <th>Type de course si non répertiorée ci-dessus</th>
                <th>Coefficient d'handicap par catégories (si applicable)</th>
                <th>Coefficient d'handicap par genre (si applicable)</th>
            </tr>
        <tr th:each="scheduledRace: ${scheduledRaces}">
            <td th:if="${scheduledRace.equals(null)}">Aucune course n'est encore sélectionée</td>
            <td th:text="${scheduledRace.getId()}"></td>
            <td th:text="${scheduledRace.location}"></td>
            <td th:text="${scheduledRace.date}"></td>
            <td th:text="${scheduledRace.number }"></td>
            <td th:text="${scheduledRace.raceType }"></td>
            <td th:text="${scheduledRace.customedRace }"></td>
            <td th:text="${scheduledRace.coefficientCategory }"></td>
            <td th:text="${scheduledRace.coefficientGender }"></td>
        </tr>
        </table>
        </div>
      <!-- part form -->             
      <br/>
      <button id="buttonRowerToggle">Participant(e) >>></button><br/>
        <section id="rowerForm">
        <section id="repeater">
            <!-- Repeater Heading -->
            <section class="repeater-heading">
                <button class="btn btn-primary repeater-add-btn">Afficher le formulaire </button>
                <p>*une ou plusieurs fois selon le nombre de participants</p>
            </section>
            <!-- Repeated Items -->
            <section class="items" data-group="test">
            <!--/*@thymesVar id="rowerForm" type="be.intecbrussel.models.registration.Rower"*/-->
          <form action="#" id="rower1" method="post" th:action="@{/rowwwapp/registration/rower}"
                th:object="${rowerForm}">
            <label for="firstname">Prénom:</label><br>
              <input type="text" name="Prénom" id="firstname" size=50  th:field="*{firstName}" required/><br/>
              <p th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">Erreur d'encodage du prénom</p>
            <label for="lastname">Nom:</label><br>
              <input type="text" name="Nom" id="lastname" size=50  th:field="*{lastName}"  required/><br/>
              <p th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">Erreur d'encodage du nom</p>
            <label for="gender">Genre:</label><br/>
                <select id="gender" th:field="*{gender}" required>
                  <option value="M" selected>M</option>
                  <option value="F">F</option>
                </select><br/>
            <label for="nationality">Nationalité:</label><br>
              <input type="text" name="Nationalité" id="nationality"  th:field="*{nationality}" required/><br/>
              <p th:if="${#fields.hasErrors('nationality')}" th:errors="*{nationality}">Erreur d'encodage de la nationalité</p>
            <label for="birthdate">Date de naissance:</label><br>
              <input type="date" name="Date de naissance" id="birthdate" pattern="[0-9]{2}/[0-9]{2}/[0-9]{4}" title="01/01/1940" th:field="*{birthDate}" required><br/>
            <label for="club">Nom du club/association:</label><br>
              <input type="text" name="Club" id="club"  th:field="*{birthDate}" required/><br/>
            <label for="clubNumber">Numéro de license:</label><br/>
              <input type="number" id="clubNumber" pattern="[0-9]{2}.[0-9]{2}.[0-9]{3}"  title="01.01.001" th:field="*{licenceNumber}" /><br/>
              <p th:if="${#fields.hasErrors('licenceNumber')}" th:errors="*{licenceNumber}">Erreur d'encodage du numéro de licence</p>
            <label for="disabilityType">Type d'handicap:</label><br/>
              <select id="disabilityType" th:field="*{disability}" >1 à sélectionner:
                  <option value="no disability" selected> </option>
                  <option value="rowers with minimal or no trunk function who primarily propel the boat through arm and shoulder function. These rowers have poor sitting balance, which requires them to be strapped to the boat/seat"></option>
                  <option value="rowers that have functional use of arms and trunk but have weakness/absence of leg function to slide the seat"></option>
                  <option value="rowers with residual function in the legs which allows them to slide the seat. This class also includes athletes with vision impairment"></option>
              </select><br/>
              <br/>
            <label>Expérience:</label> 
            <label class="container">Débutant<br/>
              <input type="radio" checked="checked" name="radio" value="Débutant" th:field="*{raceExperience}" >
                <span class="checkmark"></span>
              </label>
            <label class="container">Non-débutant
                <input type="radio" name="radio" value="Non-débutant" th:field="*{raceExperience}">
                <span class="checkmark"></span>
            </label><br/>
              <div class="input-group">
                  <input type="submit" value="Enregistrer et continuer"/>
              </div>
          </form>
        <!-- End of Repeated Items -->
        </section>
        <!-- End of Repeater -->
  </section>
        </section>
    </article>
    <footer>Christine Roels, Intec Brussel Java EE Developer, persoonlijk project 2020</footer>
    </body> 
</html>